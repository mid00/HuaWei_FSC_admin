webpackJsonp([13],{232:function(a,t,e){e(507);var i=e(94)(e(358),e(546),null,null);a.exports=i.exports},246:function(a,t,e){e(249);var i=e(94)(e(247),e(250),null,null);a.exports=i.exports},247:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(57),r=e.n(i),n=e(56),o=e.n(n),s=e(58),l=e.n(s),d=(e(96),e(98)),c=e(97);t.default={data:function(){return{baseImgPath:d.c}},created:function(){this.adminInfo.id||this.getAdminData()},computed:l()({},e.i(c.b)(["adminInfo"])),methods:l()({},e.i(c.c)(["getAdminData"]),{handleCommand:function(a){var t=this;return o()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"home"==a?t.$router.push("/manage"):"signout"==a&&t.$router.push("/");case 1:case"end":return e.stop()}},e,t)}))()}})}},248:function(a,t,e){t=a.exports=e(95)(!1),t.push([a.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#324057;height:67px;width:83%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;position:fixed;left:16.5%;z-index:999}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},249:function(a,t,e){var i=e(248);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);e(208)("c0391230",i,!0)},250:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"header_container"},[e("el-breadcrumb",{attrs:{separator:"/"}}),a._v(" "),e("el-dropdown",{attrs:{"menu-align":"start"},on:{command:a.handleCommand}},[e("img",{staticClass:"avator",attrs:{src:a.baseImgPath+a.adminInfo.avatar}}),a._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:"home"}},[a._v("首页")]),a._v(" "),e("el-dropdown-item",{attrs:{command:"signout"}},[a._v("退出")])],1)],1)],1)},staticRenderFns:[]}},358:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(18),r=e.n(i),n=e(57),o=e.n(n),s=e(56),l=e.n(s),d=e(246),c=e.n(d),w=e(96);t.default={data:function(){return{tableData:[],currentRow:null,offset:0,limit:20,count:0,currentPage:1,addWindowStatus:!1,DeleteConfirmModel:!1,WindowTitle:"添加排队机",WindowDialogSaveStatus:0,loading:!0,windowData:{machineId:0,name:"",description:"",regionId:"",regionStr:"",macAddr:"",printerIo:0,printerIoPara1:"",printerIoPara2:"",fingerIo:0,fingerIoPara:"",iDCardIo:0,iDCardIoPara1:"",iDCardIoPara2:"",wirelessIo:0,wirelessIoPara1:"",wirelessIoPara2:"",isBind:0,status:1},saveWindowData:{machineId:0,name:"",description:"",regionId:"",regionStr:"",macAddr:"",printerIo:0,printerIoPara1:"",printerIoPara2:"",fingerIo:0,fingerIoPara:"",iDCardIo:0,iDCardIoPara1:"",iDCardIoPara2:"",wirelessIo:0,wirelessIoPara1:"",wirelessIoPara2:"",isBind:0,status:1},QueueNumber:[],HallRegionData:[],queue_select:"",printLabelArr:["COM端口号","USB名称","驱动名称"],iDcardLabel:"",rules:{name:[{required:!0,message:"请输入排队机名",trigger:"blur"},{min:1,max:100,message:"长度在1到100个字符",trigger:"blur"}]}}},components:{headTop:c.a},created:function(){this.getHallRegionData(),this.getWindowData();var a=this.saveWindowData;1==a.printerIo?this.printLabel="USB名称":2==a.printerIo?this.printLabel="驱动名称":this.printLabel="COM端口号",1==a.iDCardIo?this.iDcardLabel="USB名称":this.iDcardLabel="COM端口号"},methods:{initData:function(){var a=this;return l()(o.a.mark(function t(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},t,a)}))()},handleSizeChange:function(a){console.log("每页 "+a+" 条")},handleCurrentChange:function(a){this.currentPage=a,this.offset=(a-1)*this.limit,this.getUsers()},getWindowData:function(){var a=this;return l()(o.a.mark(function t(){var i,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.i(w._9)("",1);case 2:i=t.sent,console.log(i),r=i.data[0].content,a.tableData=[],r.forEach(function(t){var e={};e.name=t.name,e.machineId=t.machineId,e.description=t.description,e.regionId=t.regionId,e.macAddr=t.macAddr,e.printerIo=t.printerIo,e.regionIdStr=a.GetHallRegionName(t.regionId),1==t.printerIo?e.printerIoStr="USB":2==t.printerIo?e.printerIoStr="Win驱动":e.printerIoStr="COM",t.fingerIo,e.fingerIoStr="USB",1==t.iDCardIo?e.iDCardIoStr="USB":e.iDCardIoStr="COM",1==t.status?e.statusStr="启用":e.statusStr="停用",e.printerIoPara1=t.printerIoPara1,e.printerIoPara2=t.printerIoPara2,e.fingerIo=t.fingerIo,e.fingerIoPara=t.fingerIoPara,e.iDCardIo=t.iDCardIo,e.iDCardIoPara1=t.iDCardIoPara1,e.iDCardIoPara2=t.iDCardIoPara2,t.wirelessIo,e.wirelessIoStr="COM",e.wirelessIo=t.wirelessIo,e.wirelessIoPara1=t.wirelessIoPara1,e.wirelessIoPara2=t.wirelessIoPara2,e.status=t.status,e.isBind=t.isBind,a.tableData.push(e)}),a.loading=!1;case 8:case"end":return t.stop()}},t,a)}))()},AddWindowDialog:function(){this.windowData.machineId="",this.windowData.regionId="",this.windowData.name="",this.windowData.description="",this.windowData.macAddr="",this.windowData.printerIo=0,this.windowData.printerIoPara1="",this.windowData.printerIoPara2="",this.windowData.fingerIo=0,this.windowData.fingerIoPara="",this.windowData.iDCardIo=0,this.windowData.iDCardIoPara1="",this.windowData.iDCardIoPara2="",this.windowData.wirelessIo=0,this.windowData.wirelessIoPara1="",this.windowData.wirelessIoPara2="",this.windowData.isBind=0,this.windowData.status=1,this.WindowTitle="添加排队机",this.addWindowStatus=!0},SaveWindowDialog:function(){var a=this.saveWindowData;console.log(a),void 0!==a&&void 0!==a.name&&a.name.length>0?(this.WindowDialogSaveStatus=1,this.WindowTitle="编辑排队机:"+a.name,this.addWindowStatus=!0,this.windowData=a):this.$notify.error({title:"错误",message:"请选择要编辑的数据",offset:100})},DeleteWindowDialog:function(){this.saveWindowData.name.length>0?this.DeleteConfirmModel=!0:this.$notify.error({title:"错误",message:"请选择要删除的数据",offset:100})},Cancel:function(a){this.addWindowStatus=!1,this.DeleteConfirmModel=!1,this.$refs.windowTable.setCurrentRow(),void 0!=a&&this.$refs[a].resetFields()},handleWindowListChange:function(a,t){console.log(a),"object"==(void 0===a?"undefined":r()(a))&&null!=a&&a.name.length>0&&(this.saveWindowData.machineId=a.machineId,this.saveWindowData.regionId=a.regionId,this.saveWindowData.name=a.name,this.saveWindowData.description=a.description,this.saveWindowData.macAddr=a.macAddr,this.saveWindowData.printerIo=a.printerIo,this.saveWindowData.printerIoPara1=a.printerIoPara1,this.saveWindowData.printerIoPara2=a.printerIoPara2,this.saveWindowData.fingerIo=a.fingerIo,this.saveWindowData.fingerIoPara=a.fingerIoPara,this.saveWindowData.iDCardIo=a.iDCardIo,this.saveWindowData.iDCardIoPara1=a.iDCardIoPara1,this.saveWindowData.iDCardIoPara2=a.iDCardIoPara2,this.saveWindowData.wirelessIo=a.wirelessIo,this.saveWindowData.wirelessIoPara1=a.wirelessIoPara1,this.saveWindowData.wirelessIoPara2=a.wirelessIoPara2,this.saveWindowData.isBind=a.isBind,this.saveWindowData.status=a.status)},handleSelectionChange:function(a){console.log(a)},DeleteConfirm:function(){var a=this;return l()(o.a.mark(function t(){var i,n,s,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.saveWindowData,n=a.tableData,s=void 0,t.next=3,e.i(w._43)([i.machineId],1);case 3:if(s=t.sent,"object"!=(void 0===s?"undefined":r()(s))||0!=s.result){t.next=16;break}l=0;case 6:if(!(l<n.length)){t.next=13;break}if(i.machineId!=n[l].machineId){t.next=10;break}return a.tableData.splice(l,1),t.abrupt("break",13);case 10:l++,t.next=6;break;case 13:a.DeleteConfirmModel=!1,t.next=17;break;case 16:a.$notify.error({title:"删除失败",message:"失败",offset:100});case 17:case"end":return t.stop()}},t,a)}))()},AddScreenData:function(a){var t=this;return l()(o.a.mark(function i(){return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.$refs[a].validate(function(){var a=l()(o.a.mark(function a(i){var n,s,l,d;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=19;break}if(n=t.WindowDialogSaveStatus,s=void 0,l=t.windowData,d=void 0,console.log(l),1!=n){a.next=11;break}return s="编辑",l.entId=l.machineId,a.next=8,e.i(w._44)([l],1);case 8:d=a.sent,a.next=16;break;case 11:if(0!=n){a.next=16;break}return s="添加",a.next=15,e.i(w._45)([l],1);case 15:d=a.sent;case 16:"object"==(void 0===d?"undefined":r()(d))&&0==d.result?(t.$message({type:"success",message:s+"成功"}),t.getWindowData(),t.addWindowStatus=!1):t.$notify.error({title:"失败",message:s+"失败",offset:100}),a.next=20;break;case 19:t.$notify.error({title:"错误",message:"请输入正确的排队机名称",offset:100});case 20:case"end":return a.stop()}},a,t)}));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return i.stop()}},i,t)}))()},closeDialog:function(){this.saveWindowData.machineId=0,this.saveWindowData.regionId="",this.saveWindowData.name="",this.saveWindowData.description="",this.saveWindowData.macAddr="",this.saveWindowData.printerIo=0,this.saveWindowData.printerIoPara1="",this.saveWindowData.printerIoPara2="",this.saveWindowData.fingerIo=0,this.saveWindowData.fingerIoPara="",this.saveWindowData.iDCardIo=0,this.saveWindowData.iDCardIoPara1="",this.saveWindowData.iDCardIoPara2="",this.saveWindowData.wirelessIo=0,this.saveWindowData.wirelessIoPara1="",this.saveWindowData.wirelessIoPara2="",this.saveWindowData.isBind=0,this.saveWindowData.status=1,this.$refs.windowTable.setCurrentRow()},SelectRegionFun:function(a){console.log(a)},GetHallRegionName:function(a){for(var t=this.HallRegionData,e="",i=0;i<=t.length;i++)if(void 0!==t[i]&&t[i].regionId==a){e=t[i].name;break}return e},getHallRegionData:function(){var a=this;return l()(o.a.mark(function t(){var i,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.i(w.T)("",1);case 2:i=t.sent,console.log(i),r=i.data[0].content,a.HallRegionData=r;case 6:case"end":return t.stop()}},t,a)}))()}}}},384:function(a,t,e){t=a.exports=e(95)(!1),t.push([a.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.table_container{padding:20px}",""])},507:function(a,t,e){var i=e(384);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);e(208)("62c68113",i,!0)},546:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"fillcontain"},[e("head-top"),a._v(" "),e("el-row",{},[e("el-col",{staticClass:"button_margin",staticStyle:{padding:"20px"},attrs:{span:24}},[e("el-button",{attrs:{type:"primary"},on:{click:a.AddWindowDialog}},[a._v("添加")]),a._v(" "),e("el-button",{on:{click:a.SaveWindowDialog}},[a._v("编辑")]),a._v(" "),e("el-button",{on:{click:a.DeleteWindowDialog}},[a._v("删除")])],1)],1),a._v(" "),e("div",{staticClass:"table_container"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],ref:"windowTable",staticStyle:{width:"100%"},attrs:{data:a.tableData,"highlight-current-row":"",height:"700",border:""},on:{"current-change":a.handleWindowListChange,select:a.handleSelectionChange}},[e("el-table-column",{attrs:{property:"machineId",label:"序号",width:"70",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"regionIdStr",label:"所属区域",width:"100",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"name",label:"排队机名称",width:"220",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"description",label:"排队机描述",width:"220",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"macAddr",label:"MAC",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"printerIoStr",label:"打印接口",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"printerIoPara1",label:"参数1",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"printerIoPara2",label:"参数2",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"fingerIoStr",label:"指纹接口",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"fingerIoPara",label:"参数1",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"iDCardIoStr",label:"二代证",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"iDCardIoPara1",label:"参数1",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"iDCardIoPara2",label:"参数2",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"wirelessIoStr",label:"无线模块",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"wirelessIoPara1",label:"参数1",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"wirelessIoPara2",label:"参数2",align:"center"}}),a._v(" "),e("el-table-column",{attrs:{property:"statusStr",label:"状态",align:"center"}})],1)],1),a._v(" "),e("el-dialog",{attrs:{title:a.WindowTitle,visible:a.addWindowStatus},on:{"update:visible":function(t){a.addWindowStatus=t},close:a.closeDialog}},[e("el-form",{ref:"windowData",attrs:{model:a.windowData,rules:a.rules}},[e("el-form-item",{attrs:{label:"排队机名称","label-width":"100px",prop:"name"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.name,callback:function(t){a.$set(a.windowData,"name",t)},expression:"windowData.name"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"所属区域","label-width":"100px"}},[e("el-select",{attrs:{placeholder:"请选择"},on:{input:a.SelectRegionFun},model:{value:a.windowData.regionId,callback:function(t){a.$set(a.windowData,"regionId",t)},expression:"windowData.regionId"}},a._l(a.HallRegionData,function(a){return e("el-option",{key:a.regionId,attrs:{label:a.name,value:a.regionId,disabled:a.disabled}})}),1)],1),a._v(" "),e("el-form-item",{attrs:{label:"排队机描述","label-width":"100px"}},[e("el-input",{attrs:{type:"textarea","auto-complete":"off"},model:{value:a.windowData.description,callback:function(t){a.$set(a.windowData,"description",t)},expression:"windowData.description"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"打印机接口类型","label-width":"100px"}},[e("el-radio",{attrs:{label:0},model:{value:a.windowData.printerIo,callback:function(t){a.$set(a.windowData,"printerIo",t)},expression:"windowData.printerIo"}},[a._v("COM")]),a._v(" "),e("el-radio",{attrs:{label:1},model:{value:a.windowData.printerIo,callback:function(t){a.$set(a.windowData,"printerIo",t)},expression:"windowData.printerIo"}},[a._v("USB")]),a._v(" "),e("el-radio",{attrs:{label:2},model:{value:a.windowData.printerIo,callback:function(t){a.$set(a.windowData,"printerIo",t)},expression:"windowData.printerIo"}},[a._v("WIN驱动")])],1),a._v(" "),e("el-form-item",{attrs:{label:a.printLabelArr[Number(a.windowData.printerIo)],"label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.printerIoPara1,callback:function(t){a.$set(a.windowData,"printerIoPara1",t)},expression:"windowData.printerIoPara1"}})],1),a._v(" "),0==a.windowData.printerIo?e("el-form-item",{attrs:{label:"波特率:","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.printerIoPara2,callback:function(t){a.$set(a.windowData,"printerIoPara2",t)},expression:"windowData.printerIoPara2"}})],1):a._e(),a._v(" "),e("el-form-item",{attrs:{label:"指纹接口类型","label-width":"100px"}},[e("el-radio",{attrs:{label:0},model:{value:a.windowData.fingerIo,callback:function(t){a.$set(a.windowData,"fingerIo",t)},expression:"windowData.fingerIo"}},[a._v("USB")])],1),a._v(" "),e("el-form-item",{attrs:{label:"指纹USB名称","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.fingerIoPara,callback:function(t){a.$set(a.windowData,"fingerIoPara",t)},expression:"windowData.fingerIoPara"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"二代证接口类型","label-width":"100px"}},[e("el-radio",{attrs:{label:0},model:{value:a.windowData.iDCardIo,callback:function(t){a.$set(a.windowData,"iDCardIo",t)},expression:"windowData.iDCardIo"}},[a._v("COM")]),a._v(" "),e("el-radio",{attrs:{label:1},model:{value:a.windowData.iDCardIo,callback:function(t){a.$set(a.windowData,"iDCardIo",t)},expression:"windowData.iDCardIo"}},[a._v("USB")])],1),a._v(" "),e("el-form-item",{attrs:{label:"0"==a.windowData.iDCardIo?"COM端口号":"USB名称","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.iDCardIoPara1,callback:function(t){a.$set(a.windowData,"iDCardIoPara1",t)},expression:"windowData.iDCardIoPara1"}})],1),a._v(" "),0==a.windowData.iDCardIo?e("el-form-item",{attrs:{label:"COM波特率","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.iDCardIoPara2,callback:function(t){a.$set(a.windowData,"iDCardIoPara2",t)},expression:"windowData.iDCardIoPara2"}})],1):a._e(),a._v(" "),e("el-form-item",{attrs:{label:"无线模块接口类型","label-width":"100px"}},[e("el-radio",{attrs:{label:0},model:{value:a.windowData.wirelessIo,callback:function(t){a.$set(a.windowData,"wirelessIo",t)},expression:"windowData.wirelessIo"}},[a._v("COM")])],1),a._v(" "),e("el-form-item",{attrs:{label:"无线模块COM端口号","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.wirelessIoPara1,callback:function(t){a.$set(a.windowData,"wirelessIoPara1",t)},expression:"windowData.wirelessIoPara1"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"无线模块COM波特率","label-width":"100px"}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:a.windowData.wirelessIoPara2,callback:function(t){a.$set(a.windowData,"wirelessIoPara2",t)},expression:"windowData.wirelessIoPara2"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"状态","label-width":"100px"}},[e("el-radio",{attrs:{label:0},model:{value:a.windowData.status,callback:function(t){a.$set(a.windowData,"status",t)},expression:"windowData.status"}},[a._v("停用")]),a._v(" "),e("el-radio",{attrs:{label:1},model:{value:a.windowData.status,callback:function(t){a.$set(a.windowData,"status",t)},expression:"windowData.status"}},[a._v("启用")])],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[e("el-button",{on:{click:function(t){return a.Cancel("windowData")}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.AddScreenData("windowData")}}},[a._v("确 定")])],1)],1),a._v(" "),e("el-dialog",{attrs:{title:"确认吗？",width:"30%",visible:a.DeleteConfirmModel},on:{close:a.closeDialog,"update:visible":function(t){a.DeleteConfirmModel=t}}},[a._v("\n\n        确定要删除排队机："+a._s(a.saveWindowData.name)+"  吗？\n        "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer",align:"center"},slot:"footer"},[e("el-button",{on:{click:function(t){return a.Cancel()}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.DeleteConfirm()}}},[a._v("确 定")])],1)])],1)},staticRenderFns:[]}}});