webpackJsonp([2],{244:function(e,t,a){a(527);var n=a(94)(a(370),a(567),null,null);e.exports=n.exports},246:function(e,t,a){a(249);var n=a(94)(a(247),a(250),null,null);e.exports=n.exports},247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),r=a.n(n),s=a(56),o=a.n(s),i=a(58),d=a.n(i),c=(a(96),a(98)),u=a(97);t.default={data:function(){return{baseImgPath:c.c}},created:function(){this.adminInfo.id||this.getAdminData()},computed:d()({},a.i(u.b)(["adminInfo"])),methods:d()({},a.i(u.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"home"==e?t.$router.push("/manage"):"signout"==e&&t.$router.push("/");case 1:case"end":return a.stop()}},a,t)}))()}})}},248:function(e,t,a){t=e.exports=a(95)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#324057;height:67px;width:83%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;position:fixed;left:16.5%;z-index:999}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},249:function(e,t,a){var n=a(248);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(208)("c0391230",n,!0)},250:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}}),e._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:e.baseImgPath+e.adminInfo.avatar}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},370:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),r=a.n(n),s=a(56),o=a.n(s),i=a(246),d=a.n(i),c=a(96);t.default={data:function(){return{instAdd:[],instAddData:[],delete:[],tableData:[],offset:0,limit:20,count:0,currentPage:1,loading:!0,DepartmentData:[],departmentId:"",WorkerData:[],WorkerDatas:[],workerId:"",BussItemData:[],BussTypeData:[],BussItemArr:[],BussItemArrData:[],RenderWorkData:[],RenderData:[],itemData:{workerBussId:1,workerId:"",bussTypeId:"",parentId:"",bussItemId:"",description:"",isBussItem:"",flowPathId:"",status:1,bussId:1,children:[]}}},components:{headTop:d.a},created:function(){this.initData(),this.getDepartmentData(),this.getWorkerData(),this.getBussTypeData(),this.getBussItemData(),this.RenderDataDialog(),this.getTreeData(),this.getWindowData()},methods:{handleWindowListChange:function(e,t){console.log("hhhhhhhhhhhh"),console.log(e)},initData:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.currentPage=e,this.offset=(e-1)*this.limit,this.getUsers()},handleNodeClick:function(e){console.log(e)},getWindowData:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1;case 1:case"end":return t.stop()}},t,e)}))()},getTreeData:function(){var e=this;return o()(r.a.mark(function t(){var n,s,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.y)("",1);case 2:n=t.sent,s=n.data[0].content,e.BussItemArrData=s,o=e.itemData,s.forEach(function(t){o={},o.workerBussId=t.bussItemId,o.bussTypeId=t.bussTypeId,o.parentId=t.parentId,o.bussItemId=t.bussItemId,o.description=t.description,o.isBussItem=t.isBussItem,o.flowPathId=t.flowPathId,o.checked="",o.status="",o.bussId=1,o.children=[],e.BussItemArr.push(o)});case 7:case"end":return t.stop()}},t,e)}))()},AddDataDialog:function(){var e=this;return o()(r.a.mark(function t(){var n,s,o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tableData=[],e.getTreeData(),e.BussItemArr.forEach(function(t){e.RenderData=[],e.RenderWorkData.forEach(function(t){t.workerId==e.workerId&&e.RenderData.push(t)}),e.RenderData.forEach(function(e){t.bussItemId==e.bussItemId&&(t.checked=!0)}),t.bussTypeId=e.GetWorkerBussName("BussTypeData",t.bussTypeId),t.bussItemId=e.GetWorkerBussName("BussItemData",t.bussItemId),t.isBussItem=0==t.isBussItem?"否":"是";var a=t.parentId;0!==a&&e.BussItemArr.forEach(function(e){e.workerBussId==a&&(e.children||(e.children=[]),e.children.push(t))})}),e.BussItemArr=e.BussItemArr.filter(function(e){return 0===e.parentId}),t.next=6,a.i(c.z)("",1);case 6:n=t.sent,s=n.data[0].content,o=[],s.forEach(function(t){o={},o.workerBussId=t.bussTypeId,o.bussTypeId=t.name,o.parentId="",o.bussItemId=t.name,o.description="",o.isBussItem=1==t.isBussItem?"是":"否",o.flowPathId=t.flowPathId,o.status="",o.checked="",o.bussId=0,o.children=[],e.BussItemArr.forEach(function(t){var a=t.bussTypeId;a=e.GetWorkerBussName("BussTypeTwoData",a),0==t.parentId&&a==o.workerBussId&&o.children.push(t)}),e.RenderData=[],e.delete=[],e.RenderWorkData.forEach(function(t){t.workerId==e.workerId&&(e.RenderData.push(t),e.delete.push(t.workerBussId))}),e.RenderData.forEach(function(e){0==o.children.length&&o.workerBussId==e.bussTypeId&&(o.checked=!0)}),e.tableData.push(o)});case 10:case"end":return t.stop()}},t,e)}))()},RenderDataDialog:function(){var e=this;return o()(r.a.mark(function t(){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.H)("",1);case 2:n=t.sent,s=n.data[0].content,e.RenderWorkData=s;case 5:case"end":return t.stop()}},t,e)}))()},SaveDataDialog:function(){var e=this;return o()(r.a.mark(function t(){var n,s,o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=void 0,s=void 0,e.instAdd=[],e.instAddData=[],e.tableData.forEach(function(t){1==t.checked&&"是"==t.isBussItem&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&"是"==t.isBussItem&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&"是"==t.isBussItem&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&"是"==t.isBussItem&&e.instAdd.push(t)})})})}),o={workerBussId:1,workerId:"",bussTypeId:"",bussItemId:"",status:""},console.log("888888888888"),console.log(e.instAdd),i=0;i<e.instAdd.length;i++)o={},o.workerBussId=e.instAdd.length+1,o.workerId=e.workerId,o.bussTypeId=e.GetWorkerBussName("BussTypeTwoData",e.instAdd[i].bussTypeId),1==e.instAdd[i].bussId&&"是"==e.instAdd[i].isBussItem?o.bussItemId=e.instAdd[i].workerBussId:o.bussItemId=0,o.status=e.instAdd[i].status,e.instAddData.push(o);if(console.log("11111111111"),console.log(e.instAddData),!e.instAddData){t.next=14;break}return t.next=13,a.i(c.I)(e.instAddData,1);case 13:n=t.sent;case 14:if(!e.delete){t.next=18;break}return t.next=17,a.i(c.J)(e.delete,1);case 17:n=t.sent;case 18:console.log("iiiiiiiii"),console.log(n),e.getWindowData(),0==n.result?e.$message({type:"success",message:"保存成功"}):e.$notify.error({title:"失败",message:"保存失败",offset:100});case 22:case"end":return t.stop()}},t,e)}))()},closeDialog:function(){this.$refs.windowTable.setCurrentRow()},SelectFun:function(e){},GetWorkerBussName:function(e,t){var a="";switch(e){case"WorkerData":for(var n=this.WorkerData,r=0;r<n.length;r++)if(n[r].workerId==t){a=n[r].name;break}break;case"BussTypeData":for(var s=this.BussTypeData,o=0;o<s.length;o++)if(s[o].bussTypeId==t){a=s[o].name;break}break;case"BussTypeTwoData":for(var i=this.BussTypeData,d=0;d<i.length;d++)if(i[d].name==t){a=i[d].bussTypeId;break}break;case"BussItemData":for(var c=this.BussItemData,u=0;u<c.length;u++)if(c[u].bussItemId==t){a=c[u].name;break}break;case"BussItemTwoData":for(var l=this.BussItemData,p=0;p<l.length;p++)if(l[p].name==t){a=l[p].bussItemId;break}}return a},getBussItemData:function(){var e=this;return o()(r.a.mark(function t(){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.y)("",1);case 2:n=t.sent,s=n.data[0].content,e.BussItemData=s;case 5:case"end":return t.stop()}},t,e)}))()},getBussTypeData:function(){var e=this;return o()(r.a.mark(function t(){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.z)("",1);case 2:n=t.sent,s=n.data[0].content,e.BussTypeData=s;case 5:case"end":return t.stop()}},t,e)}))()},getDepartmentData:function(){var e=this;return o()(r.a.mark(function t(){var n,s,o,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.K)("",1);case 2:n=t.sent,s=n.data[0].content,e.DepartmentData=s,o=e.WorkerData,e.departmentId&&(i=[],e.WorkerDatas.forEach(function(t){t.departmentId==e.departmentId&&i.push(t)}),e.WorkerData=i);case 7:case"end":return t.stop()}},t,e)}))()},getWorkerData:function(){var e=this;return o()(r.a.mark(function t(){var n,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(c.L)("",1);case 2:n=t.sent,s=n.data[0].content,e.WorkerData=s,e.WorkerDatas=s;case 6:case"end":return t.stop()}},t,e)}))()}}}},404:function(e,t,a){t=e.exports=a(95)(!1),t.i(a(209),""),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.table_container{padding:20px}",""])},527:function(e,t,a){var n=a(404);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(208)("06a1e1d3",n,!0)},567:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain",attrs:{div:""}},[a("head-top"),e._v(" "),a("el-row",{},[a("el-col",{staticClass:"button_margin",staticStyle:{padding:"20px"},attrs:{span:24}},[a("el-dropdown",[a("div",[e._v("部门选择：\n                    "),a("el-select",{attrs:{clearable:"",placeholder:"请选择部門"},on:{change:e.getDepartmentData},model:{value:e.departmentId,callback:function(t){e.departmentId=t},expression:"departmentId"}},e._l(e.DepartmentData,function(e){return a("el-option",{key:e.departmentId,attrs:{label:e.name,value:e.departmentId,disabled:e.disabled}})}),1)],1),e._v(" "),a("el-dropdown-menu")],1),e._v(" "),a("el-dropdown",[a("div",[e._v("员工选择：\n                    "),a("el-select",{attrs:{placeholder:"请选择员工"},on:{change:e.AddDataDialog},model:{value:e.workerId,callback:function(t){e.workerId=t},expression:"workerId"}},e._l(e.WorkerData,function(e){return a("el-option",{key:e.workerId,attrs:{label:e.name,value:e.workerId,disabled:e.disabled}})}),1)],1),e._v(" "),a("el-dropdown-menu")],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.SaveDataDialog}},[e._v("保存")])],1)],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"windowTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"workerBussId",border:"","default-expand-all":"","select-on-indeterminate":"","tree-props":{children:"children",hasChildren:"hasChildren"},"highlight-current-row":"",height:"700"},on:{"current-change":e.handleWindowListChange}},[a("el-table-column",{attrs:{prop:"bussItemId",label:"业务事项"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"业务事项描述",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bussTypeId",label:"业务类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"isBussItem",label:"是否具体事项",align:"center",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"flowPathId",label:"流程",align:"center",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"选中",width:"155",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}})]}}])})],1)],1)],1)},staticRenderFns:[]}}});