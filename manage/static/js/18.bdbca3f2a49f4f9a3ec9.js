webpackJsonp([18],{224:function(e,t,a){a(530);var n=a(94)(a(350),a(570),null,null);e.exports=n.exports},246:function(e,t,a){a(249);var n=a(94)(a(247),a(250),null,null);e.exports=n.exports},247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),s=a.n(n),r=a(56),o=a.n(r),i=a(58),c=a.n(i),d=(a(96),a(98)),u=a(97);t.default={data:function(){return{baseImgPath:d.c}},created:function(){this.adminInfo.id||this.getAdminData()},computed:c()({},a.i(u.b)(["adminInfo"])),methods:c()({},a.i(u.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return o()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"home"==e?t.$router.push("/manage"):"signout"==e&&t.$router.push("/");case 1:case"end":return a.stop()}},a,t)}))()}})}},248:function(e,t,a){t=e.exports=a(95)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#324057;height:67px;width:83%;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;position:fixed;left:16.5%;z-index:999}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},249:function(e,t,a){var n=a(248);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(208)("c0391230",n,!0)},250:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}}),e._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[a("img",{staticClass:"avator",attrs:{src:e.baseImgPath+e.adminInfo.avatar}}),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},350:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(57),s=a.n(n),r=a(56),o=a.n(r),i=a(246),c=a.n(i),d=a(96);t.default={data:function(){return{instAdd:[],instAddData:[],delete:[],tableData:[],saveData:[],offset:0,limit:20,count:0,currentPage:1,loading:!0,FlowPathData:[],flowPathId:"",BussItemData:[],BussTypeData:[],BussItemArr:[],BussItemArrData:[],RenderWorkData:[],RenderData:[],stepNo:"",itemData:{flowStepId:1,flowPathId:"",bussTypeId:"",bussItemId:"",stepNo:"",children:[]}}},components:{headTop:c.a},created:function(){this.initData(),this.getFlowPath(),this.getBussTypeData(),this.getBussItemData(),this.RenderDataDialog(),this.getTreeData(),this.getWindowData()},methods:{handleEdit:function(e,t,a){if(1==e.checked){e.show=!0;var n=e;if(this.saveData.length>0)for(var s=0;s<this.saveData.length;s++)if(this.saveData[s].flowStepId==n.flowStepId){this.saveData.splice(s,1);break}this.saveData.push(n),console.log("77777777777"),console.log(this.saveData)}},initData:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.currentPage=e,this.offset=(e-1)*this.limit,this.getUsers()},handleNodeClick:function(e){console.log(e)},getWindowData:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!1;case 1:case"end":return t.stop()}},t,e)}))()},getTreeData:function(){var e=this;return o()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(d.y)("",1);case 2:n=t.sent,r=n.data[0].content,e.BussItemArrData=r,o=e.itemData,r.forEach(function(t){o={},o.flowStepId=t.bussItemId,o.bussTypeId=t.bussTypeId,o.parentId=t.parentId,o.bussItemId=t.bussItemId,o.stepNo="",o.checked="",o.show="",o.children=[],e.BussItemArr.push(o)});case 7:case"end":return t.stop()}},t,e)}))()},AddDataDialog:function(){var e=this;return o()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tableData=[],e.getTreeData(),e.BussItemArr.forEach(function(t){e.RenderData=[],e.RenderWorkData.forEach(function(t){t.flowPathId==e.flowPathId&&e.RenderData.push(t)}),e.RenderData.forEach(function(e){t.bussItemId==e.bussItemId&&(t.checked=!0,t.stepNo=e.stepNo)}),t.bussTypeId=e.GetWorkerBussName("BussTypeData",t.bussTypeId),t.bussItemId=e.GetWorkerBussName("BussItemData",t.bussItemId);var a=t.parentId;0!==a&&e.BussItemArr.forEach(function(e){e.flowStepId==a&&(e.children||(e.children=[]),e.children.push(t))})}),e.BussItemArr=e.BussItemArr.filter(function(e){return 0===e.parentId}),t.next=6,a.i(d.z)("",1);case 6:n=t.sent,r=n.data[0].content,o=[],r.forEach(function(t){o={},o.flowStepId=t.bussTypeId,o.bussTypeId=t.name,o.parentId="",o.bussItemId=o.stepNo="",o.checked="",o.show="",o.children=[],e.BussItemArr.forEach(function(t){var a=t.bussTypeId;a=e.GetWorkerBussName("BussTypeTwoData",a),0==t.parentId&&a==o.flowStepId&&o.children.push(t)}),e.RenderData=[],e.delete=[],e.RenderWorkData.forEach(function(t){t.flowPathId==e.flowPathId&&(e.RenderData.push(t),e.delete.push(t.flowStepId))}),e.RenderData.forEach(function(e){0==o.children.length&&o.flowStepId==e.bussTypeId&&(o.checked=!0,o.stepNo=e.stepNo)}),e.tableData.push(o)});case 10:case"end":return t.stop()}},t,e)}))()},RenderDataDialog:function(){var e=this;return o()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(d.A)("",1);case 2:n=t.sent,r=n.data[0].content,e.RenderWorkData=r;case 5:case"end":return t.stop()}},t,e)}))()},SaveDataDialog:function(){var e=this;return o()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=void 0,e.instAdd=[],e.instAddData=[],e.tableData.forEach(function(t){1==t.checked&&0==t.children.length&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&e.instAdd.push(t),t.children.length>0&&t.children.forEach(function(t){1==t.checked&&e.instAdd.push(t)})})})}),r={flowStepId:1,flowPathId:"",bussTypeId:"",bussItemId:"",stepNo:""},o=0;o<e.instAdd.length;o++)r={},r.flowPathId=e.flowPathId,r.bussTypeId=e.GetWorkerBussName("BussTypeTwoData",e.instAdd[o].bussTypeId),r.bussItemId=e.GetWorkerBussName("BussItemTwoData",e.instAdd[o].bussItemId),e.saveData.forEach(function(e){r.bussItemId||e.flowStepId!=r.bussTypeId||(r.stepNo=Number(e.stepNo)),e.flowStepId==r.bussItemId&&(r.stepNo=Number(e.stepNo))}),e.instAddData.push(r);if(!e.instAddData){t.next=10;break}return t.next=9,a.i(d.B)(e.instAddData,1);case 9:n=t.sent;case 10:if(!e.delete){t.next=14;break}return t.next=13,a.i(d.C)(e.delete,1);case 13:n=t.sent;case 14:0==n.result?e.$message({type:"success",message:"保存成功"}):e.$notify.error({title:"失败",message:"保存失败",offset:100});case 15:case"end":return t.stop()}},t,e)}))()},closeDialog:function(){this.$refs.windowTable.setCurrentRow()},SelectFun:function(e){},GetWorkerBussName:function(e,t){var a="";switch(e){case"WorkerData":for(var n=this.WorkerData,s=0;s<n.length;s++)if(n[s].workerId==t){a=n[s].name;break}break;case"BussTypeData":for(var r=this.BussTypeData,o=0;o<r.length;o++)if(r[o].bussTypeId==t){a=r[o].name;break}break;case"BussTypeTwoData":for(var i=this.BussTypeData,c=0;c<i.length;c++)if(i[c].name==t){a=i[c].bussTypeId;break}break;case"BussItemData":for(var d=this.BussItemData,u=0;u<d.length;u++)if(d[u].bussItemId==t){a=d[u].name;break}break;case"BussItemTwoData":for(var l=this.BussItemData,p=0;p<l.length;p++)if(l[p].name==t){a=l[p].bussItemId;break}}return a},getBussItemData:function(){var e=this;return o()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(d.y)("",1);case 2:n=t.sent,r=n.data[0].content,e.BussItemData=r;case 5:case"end":return t.stop()}},t,e)}))()},getBussTypeData:function(){var e=this;return o()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(d.z)("",1);case 2:n=t.sent,r=n.data[0].content,e.BussTypeData=r;case 5:case"end":return t.stop()}},t,e)}))()},getFlowPath:function(){var e=this;return o()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(d.D)("",1);case 2:n=t.sent,r=n.data[0].content,e.FlowPathData=r;case 5:case"end":return t.stop()}},t,e)}))()}}}},407:function(e,t,a){t=e.exports=a(95)(!1),t.i(a(209),""),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.table_container{padding:20px}",""])},530:function(e,t,a){var n=a(407);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(208)("64fbff4a",n,!0)},570:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain",attrs:{div:""}},[a("head-top"),e._v(" "),a("el-row",{},[a("el-col",{staticClass:"button_margin",staticStyle:{padding:"20px"},attrs:{span:24}},[a("el-dropdown",[a("div",[e._v("流程选择：\n                    "),a("el-select",{attrs:{placeholder:"请选择流程"},on:{change:e.AddDataDialog},model:{value:e.flowPathId,callback:function(t){e.flowPathId=t},expression:"flowPathId"}},e._l(e.FlowPathData,function(e){return a("el-option",{key:e.flowPathId,attrs:{label:e.flowName,value:e.flowPathId,disabled:e.disabled}})}),1)],1),e._v(" "),a("el-dropdown-menu")],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.SaveDataDialog}},[e._v("保存")])],1)],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"windowTable",staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"flowStepId",border:"","default-expand-all":"","select-on-indeterminate":"","tree-props":{children:"children",hasChildren:"hasChildren"},"highlight-current-row":"",height:"700"},on:{"row-click":e.handleEdit}},[a("el-table-column",{attrs:{prop:"bussTypeId",label:"业务类型"}}),e._v(" "),a("el-table-column",{attrs:{property:"bussItemId",label:"业务事项",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stepNo",label:"流程步骤号",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.row.show,expression:"scope.row.show"}],attrs:{size:"small"},model:{value:t.row.stepNo,callback:function(a){e.$set(t.row,"stepNo",a)},expression:"scope.row.stepNo"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.show,expression:"!scope.row.show"}]},[e._v(e._s(t.row.stepNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选中",width:"155",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}})]}}])})],1)],1)],1)},staticRenderFns:[]}}});